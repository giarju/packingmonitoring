{"version":3,"sources":["webpack:///./src/views/Login.vue?bfa1","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","on_submit","model","value","callback","$$v","login_alert","expression","_v","_s","alert_string","login_form","$set","staticRenderFns","name","data","user","password","components","methods","event","preventDefault","timeout","localStorage","setItem","getItem","err","response","status","console","log","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,UAAU,CAACH,EAAG,SAAS,CAACE,YAAY,iBAAiBE,GAAG,CAAC,OAASR,EAAIS,YAAY,CAACL,EAAG,UAAU,CAACE,YAAY,iBAAiBC,MAAM,CAAC,YAAc,GAAG,QAAU,UAAUG,MAAM,CAACC,MAAOX,EAAe,YAAEY,SAAS,SAAUC,GAAMb,EAAIc,YAAYD,GAAKE,WAAW,gBAAgB,CAACf,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,cAAc,OAAOd,EAAG,eAAe,CAACE,YAAY,YAAYC,MAAM,CAAC,GAAK,WAAW,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,cAAc,CAACP,EAAIgB,GAAG,cAAcZ,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,OAAO,GAAK,aAAaG,MAAM,CAACC,MAAOX,EAAImB,WAAe,KAAEP,SAAS,SAAUC,GAAMb,EAAIoB,KAAKpB,EAAImB,WAAY,OAAQN,IAAME,WAAW,sBAAsB,GAAGX,EAAG,eAAe,CAACE,YAAY,iBAAiBC,MAAM,CAAC,GAAK,WAAW,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,kBAAkB,CAACP,EAAIgB,GAAG,cAAcZ,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,WAAW,GAAK,gBAAgB,mBAAmB,uBAAuBG,MAAM,CAACC,MAAOX,EAAImB,WAAmB,SAAEP,SAAS,SAAUC,GAAMb,EAAIoB,KAAKpB,EAAImB,WAAY,WAAYN,IAAME,WAAW,yBAAyBX,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,wBAAwB,CAACP,EAAIgB,GAAG,wBAAwB,GAAGZ,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,SAAS,QAAU,YAAY,CAACP,EAAIgB,GAAG,YAAY,IAAI,IAAI,IACl2CK,EAAkB,G,qBCwBtB,GACEC,KAAM,QACNC,KAFF,WAGI,MAAJ,CACMJ,WAAN,CACQK,KAAR,GACQC,SAAR,IAEMX,aAAN,EACMI,aAAN,KAGEQ,WAAY,GAEZC,QAAS,CACPlB,UADJ,SACA,cACMmB,EAAMC,iBACN5B,KAAKa,aAAX,EACM,EAAN,EACA,KADA,kBACA,CACQgB,QAAS,IACTN,KAAMvB,KAAKkB,WAAWK,KACtBC,SAAUxB,KAAKkB,WAAWM,WAElC,kBAGQ,GAFAM,aAAaC,QAAQ,MAA7B,4BACQD,aAAaC,QAAQ,MAA7B,cAC2C,MAA/BD,aAAaE,QAAQ,OAAjC,CACU,IAAV,8BACU,EAAV,8BACU,EAAV,eAEA,SACYF,aAAaC,QAAQ,OAAjC,cACY,EAAZ,yBAEA,SACYD,aAAaC,QAAQ,OAAjC,YACY,EAAZ,4BAEA,UACYD,aAAaC,QAAQ,OAAjC,aACY,EAAZ,2BAEA,UACYD,aAAaC,QAAQ,OAAjC,cACY,EAAZ,8BAIU,EAAV,eAGQ,EAAR,mBACQ,EAAR,0BAEA,mBAEmC,KAAvBE,EAAIC,SAASC,QACf,EAAV,eACU,EAAV,gCAEA,wBACU,EAAV,eACU,EAAV,0CAGUC,QAAQC,IAAIJ,SC5FyT,I,YCO3UK,EAAY,eACd,EACAxC,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E","file":"js/chunk-2d2086b7.7c6abb01.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('b-card',{attrs:{\"title\":\"Login\"}},[_c('b-form',{staticClass:\"container my-2\",on:{\"submit\":_vm.on_submit}},[_c('b-alert',{staticClass:\"mt-2 container\",attrs:{\"dismissible\":\"\",\"variant\":\"danger\"},model:{value:(_vm.login_alert),callback:function ($$v) {_vm.login_alert=$$v},expression:\"login_alert\"}},[_vm._v(\" \"+_vm._s(_vm.alert_string)+\" \")]),_c('b-form-group',{staticClass:\"container\",attrs:{\"id\":\"input1\"}},[_c('label',{attrs:{\"for\":\"text-user\"}},[_vm._v(\"Username\")]),_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"text-user\"},model:{value:(_vm.login_form.user),callback:function ($$v) {_vm.$set(_vm.login_form, \"user\", $$v)},expression:\"login_form.user\"}})],1),_c('b-form-group',{staticClass:\"container my-2\",attrs:{\"id\":\"input2\"}},[_c('label',{attrs:{\"for\":\"text-password\"}},[_vm._v(\"Password\")]),_c('b-form-input',{attrs:{\"type\":\"password\",\"id\":\"text-password\",\"aria-describedby\":\"password-help-block\"},model:{value:(_vm.login_form.password),callback:function ($$v) {_vm.$set(_vm.login_form, \"password\", $$v)},expression:\"login_form.password\"}}),_c('b-form-text',{attrs:{\"id\":\"password-help-block\"}},[_vm._v(\"Masukkan Password\")])],1),_c('b-button',{staticClass:\"m-3 \",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Login\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <b-card title=\"Login\">\n      <b-form class=\"container my-2\" @submit=\"on_submit\">\n        <b-alert class=\"mt-2 container\" v-model=\"login_alert\" dismissible variant=\"danger\">\n          {{alert_string}}\n        </b-alert>\n        <b-form-group class=\"container\" id=\"input1\">\n          <label for=\"text-user\">Username</label>\n          <b-form-input type=\"text\" id=\"text-user\" v-model=\"login_form.user\"></b-form-input>\n        </b-form-group>\n        <b-form-group class=\"container my-2\" id=\"input2\">\n          <label for=\"text-password\">Password</label>\n          <b-form-input type=\"password\" id=\"text-password\" v-model=\"login_form.password\" aria-describedby=\"password-help-block\"></b-form-input>\n          <b-form-text id=\"password-help-block\">Masukkan Password</b-form-text>\n        </b-form-group> \n        <b-button class=\"m-3 \" type=\"submit\" variant=\"primary\">Login</b-button>   \n      </b-form>    \n    </b-card> \n  </div>\n</template>\n\n<script> \nimport axios from \"axios\";\n\nexport default { \n  name: \"Login\",\n  data(){\n    return{\n      login_form :{\n        user:'',\n        password:'',\n      },\n      login_alert:false,\n      alert_string:''\n    }\n  },\n  components: {\n  },\n  methods: {\n    on_submit(event){\n      event.preventDefault();\n      this.login_alert=false;\n      axios\n      .post(`/api/user/login`, {\n        timeout: 5000,\n        user: this.login_form.user,\n        password: this.login_form.password\n      })\n      .then((res) => {\n        localStorage.setItem('job',JSON.stringify(res.data.job))\n        localStorage.setItem('jwt',res.data.token) \n        if (localStorage.getItem('jwt') != null){\n          let job = localStorage.getItem('job')\n          this.$root.$emit('check_login', true);\n          this.login_alert = false;\n\n          if(job === '1'){\n            localStorage.setItem('base','/CoordMain')\n            this.$router.push('/listpo')      \n          }\n          else if(job === '2'){\n            localStorage.setItem('base','/Ongoing')\n            this.$router.push('/checklist')            \n          }\n          else if(job === '3'){\n            localStorage.setItem('base','/Weighing')\n            this.$router.push('/weighing')          \n          }\n          if(job === '0'){\n            localStorage.setItem('base','/CoordMain')\n            this.$router.push('/listpo')      \n          }\n        }\n        else{\n          this.login_alert = true;\n        }\n\n        this.login_form.user = '';\n        this.login_form.password='';\n      })\n      .catch((err) => {\n        \n        if (err.response.status == 401){\n          this.login_alert = true;\n          this.alert_string = 'Password salah!'\n        }\n        else if(err.response.status == 404){\n          this.login_alert = true;\n          this.alert_string = 'Username tidak ditemukan!'\n        }\n        else{\n          console.log(err);\n        }\n      });\n\n      \n\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2d7d4dea&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}