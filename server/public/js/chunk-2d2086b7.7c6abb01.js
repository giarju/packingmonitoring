(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"container"},[o("b-card",{attrs:{title:"Login"}},[o("b-form",{staticClass:"container my-2",on:{submit:t.on_submit}},[o("b-alert",{staticClass:"mt-2 container",attrs:{dismissible:"",variant:"danger"},model:{value:t.login_alert,callback:function(s){t.login_alert=s},expression:"login_alert"}},[t._v(" "+t._s(t.alert_string)+" ")]),o("b-form-group",{staticClass:"container",attrs:{id:"input1"}},[o("label",{attrs:{for:"text-user"}},[t._v("Username")]),o("b-form-input",{attrs:{type:"text",id:"text-user"},model:{value:t.login_form.user,callback:function(s){t.$set(t.login_form,"user",s)},expression:"login_form.user"}})],1),o("b-form-group",{staticClass:"container my-2",attrs:{id:"input2"}},[o("label",{attrs:{for:"text-password"}},[t._v("Password")]),o("b-form-input",{attrs:{type:"password",id:"text-password","aria-describedby":"password-help-block"},model:{value:t.login_form.password,callback:function(s){t.$set(t.login_form,"password",s)},expression:"login_form.password"}}),o("b-form-text",{attrs:{id:"password-help-block"}},[t._v("Masukkan Password")])],1),o("b-button",{staticClass:"m-3 ",attrs:{type:"submit",variant:"primary"}},[t._v("Login")])],1)],1)],1)},a=[],r=o("bc3a"),n=o.n(r),i={name:"Login",data:function(){return{login_form:{user:"",password:""},login_alert:!1,alert_string:""}},components:{},methods:{on_submit:function(t){var s=this;t.preventDefault(),this.login_alert=!1,n.a.post("/api/user/login",{timeout:5e3,user:this.login_form.user,password:this.login_form.password}).then((function(t){if(localStorage.setItem("job",JSON.stringify(t.data.job)),localStorage.setItem("jwt",t.data.token),null!=localStorage.getItem("jwt")){var o=localStorage.getItem("job");s.$root.$emit("check_login",!0),s.login_alert=!1,"1"===o?(localStorage.setItem("base","/CoordMain"),s.$router.push("/listpo")):"2"===o?(localStorage.setItem("base","/Ongoing"),s.$router.push("/checklist")):"3"===o&&(localStorage.setItem("base","/Weighing"),s.$router.push("/weighing")),"0"===o&&(localStorage.setItem("base","/CoordMain"),s.$router.push("/listpo"))}else s.login_alert=!0;s.login_form.user="",s.login_form.password=""})).catch((function(t){401==t.response.status?(s.login_alert=!0,s.alert_string="Password salah!"):404==t.response.status?(s.login_alert=!0,s.alert_string="Username tidak ditemukan!"):console.log(t)}))}}},l=i,u=o("2877"),c=Object(u["a"])(l,e,a,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.7c6abb01.js.map